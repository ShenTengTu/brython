__BRYTHON__.use_VFS = true;
var scripts = {"$timestamp": 1590071339937, "header": [".py", "from browser import bind,console,html,window,document,alert\nimport browser.widgets.menu as menu\n\nhref=document.location.href\nprotocol,rest=href.split(\"://\")\nhost,addr=rest.split(\"/\",1)\n\n\nif protocol ==\"http\"and host.endswith(\"brython.info\"):\n document.location.href=f\"https://{rest}\"\n \nMenu=menu.Menu\n\nlanguages=[\"zh-hant\"]\nlanguages_options=[[\"zh-hant\",\"\u7e41\u9ad4\u4e2d\u6587\"]]\n\ntrans_menu={\n\"menu_console\":{\"zh-hant\":\"\u63a7\u5236\u53f0\"},\n\"menu_editor\":{\"zh-hant\":\"\u7de8\u8f2f\u5668\"},\n\"menu_demo\":{\"zh-hant\":\"\u6f14\u793a\"},\n\"menu_gallery\":{\"zh-hant\":\"Gallery\"},\n\"menu_doc\":{\"zh-hant\":\"\u6587\u6a94\"},\n\"menu_download\":{\"zh-hant\":\"\u4e0b\u8f09\"},\n\"menu_dev\":{\"zh-hant\":\"\u958b\u767c\"},\n\"menu_ex\":{\"zh-hant\":\"\u7bc4\u4f8b\"},\n\"menu_groups\":{\"zh-hant\":\"\u793e\u7fa4\"},\n\"menu_ref\":{\"zh-hant\":\"\u53c3\u8003\"},\n\"menu_resources\":{\"zh-hant\":\"\u8cc7\u6e90\"},\n\"menu_tutorial\":{\"zh-hant\":\"\u6559\u5b78\"},\n}\nlinks={\n\"home\":\"/index.html\",\n\"console\":\"https://www.brython.info/tests/console.html\",\n\"demo\":\"https://www.brython.info/demo.html\",\n\"editor\":\"https://www.brython.info/tests/editor.html\",\n\"gallery\":\"https://www.brython.info/gallery/gallery_en.html\",\n\"doc\":\"/static_doc/{language}/intro.html\",\n\"download\":\"https://github.com/brython-dev/brython/releases\",\n\"dev\":\"https://github.com/brython-dev/brython\",\n\"groups\":\"/groups.html\",\n\"tutorial\":\"/static_tutorial/{language}/index.html\",\n}\n\n\ndef show(language=None ):\n ''\n \n has_req=False\n qs_lang=None\n \n prefix=\"/\"\n \n if language is None :\n  qs_lang=document.query.getfirst(\"lang\")\n  if qs_lang and qs_lang in languages:\n   has_req=True\n   language=qs_lang\n  else :\n   lang=__BRYTHON__.language\n   if lang[:2]==\"zh\":\n    language=\"zh-hant\"\n    \n language=language or \"zh-hant\"\n \n _banner=document[\"banner_row\"]\n \n loc=window.location.href\n current=None\n for key in [\"home\",\"console\",\"demo\",\"editor\",\"groups\"]:\n  if links[key]in loc:\n   current=key\n   break\n   \n if current is None :\n  if \"gallery\"in loc:\n   current=\"gallery\"\n  elif \"static_doc\"in loc:\n   current=\"doc\"\n   \n def load_page(key):\n  officials=[\"console\",\"demo\",\"editor\",\"gallery\"]\n  \n  def f(e):\n   href=links[key].format(language=language)\n   if key in officials:\n    window.location.href=href\n   else :\n    window.location.href=href+f\"?lang={language}\"\n    \n  return f\n  \n menu=Menu(_banner,default_css=False )\n \n menu.add_item(trans_menu[\"menu_tutorial\"][language],callback=load_page(\"tutorial\"))\n \n menu.add_item(trans_menu[\"menu_demo\"][language],callback=load_page(\"demo\"))\n \n menu.add_item(trans_menu[\"menu_doc\"][language],callback=load_page(\"doc\"))\n \n menu.add_item(trans_menu[\"menu_console\"][language],callback=load_page(\"console\"))\n \n menu.add_item(trans_menu[\"menu_editor\"][language],callback=load_page(\"editor\"))\n \n menu.add_item(trans_menu[\"menu_gallery\"][language],callback=load_page(\"gallery\"))\n \n ex_resources=menu.add_menu(trans_menu[\"menu_resources\"][language])\n ex_resources.add_item(\n trans_menu[\"menu_download\"][language],callback=load_page(\"download\")\n )\n ex_resources.add_item(trans_menu[\"menu_dev\"][language],callback=load_page(\"dev\"))\n ex_resources.add_item(trans_menu[\"menu_groups\"][language],callback=load_page(\"groups\"))\n \n \n sel_lang=html.DIV(Class=\"sel_lang\")\n \n document.body.insertBefore(sel_lang,_banner.nextElementSibling)\n select=html.SELECT(Class=\"language\")\n sel_lang <=select\n for lang1,lang2 in languages_options:\n  select <=html.OPTION(lang2,value=lang1,selected=lang1 ==language)\n  \n @bind(select,\"change\")\n \n def change_language(ev):\n  sel=ev.target\n  new_lang=sel.options[sel.selectedIndex].value\n  head=f\"{protocol}://{host}\"\n  new_href=href\n  if addr ==\"\"or addr.startswith(\"index.html\"):\n   new_href=f\"{head}/index.html?lang={new_lang}\"\n  elif addr.startswith((\"static_tutorial\",\"static_doc\")):\n   elts=addr.split(\"/\")\n   page=elts[-1].split(\"?\")[0]\n   elts[1]=new_lang\n   new_href=f\"{head}/{elts[0]}/{new_lang}/{page}\"\n  elif addr.startswith((\"demo.html\",\"tests/console.html\",\"tests/editor.html\")):\n   elts=addr.split(\"?\")\n   new_href=f\"{head}/{elts[0]}?lang={new_lang}\"\n  document.location.href=new_href\n  \n return qs_lang,language\n", ["browser", "browser.widgets.menu"]]}
__BRYTHON__.update_VFS(scripts)
